Сторонние утилиты для управления pkgsrc
=======================================

[[!tag pkgsrc]]

Содержание
----------

[[!toc startlevel=2 levels=4]]

pkg_leaves
----------

Утилита для просмотра списка установленных в системе пакетов, от которых не зависят другие. Установить её можно следующим образом:

    # cd /usr/pkgsrc/pkgtools/pkg_leaves
    # make install

Если вызвать утилиту без аргументов, то она выведет список пакетов, которые не установлены вручную и от которых не зависит какой-либо другой пакет. Чтобы вывести полный список, без учёта того, был ли пакет установлен вручную, нужно указать утилите опцию `-a`:

    # pkg_leaves -a

pkg_chk
-------

Утилита для проверки соответствия версий установленных в системе пакетов версиям из системы pkgsrc. Установить её можно следующим образом:

    # cd /usr/pkgsrc/pkgtools/pkg_chk
    # make install

При запуске с опциями `-q` и `-u` утилита покажет те пакеты, для которых в системе pkgsrc имеются более свежие версии:

    # pkg_chk -q -u

Эта утилита может не только выводить список пакетов, которые можно обновить, но и выполнять дополнительные действия: скачать обновлённые исходные тексты, удалить из системы устаревшие пакеты, установить их новые версии. Однако для обновления установленных в системе пакетов есть другие специальные инструменты, которые учитывают больше нюансов этой процедуры.

pkg_rolling-replace
-------------------

Утилита при помощи pkg_chk составляет список обновившихся пакетов, а также список пакетов, которые от них зависят. Установить её можно следующим образом:

    # cd /usr/pkgsrc/pkgtools/pkg_rolling-replace
    # make install

Утилита формирует корректную последовательность обновления пакетов и последовательно заменяет в системе пакеты, начиная с тех, которые не зависят от обновившихся, и продолжая теми, которые зависят от уже обновлённых. Для запуска процедуры обновления можно воспользоваться следующей командой:

    # pkg_rolling-replace -u
